(this["webpackJsonpgroup-video-calling-app"]=this["webpackJsonpgroup-video-calling-app"]||[]).push([[0],{136:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(18),r=a.n(i),o=(a(136),a(9)),s=a(11),l=a.n(s),d=a(25),u=a(19),j=a(64),b="deom-1",p={mode:"rtc",codec:"vp8",appId:"002d67ae068040be96b28ec17b115ea8",token:"007eJxTYLBa+yuqZdrdVM5di23avt/j8Hx7sCX6W7aXqK94/OwH5rMUGAwMjFLMzBNTDcwsDEwMklItzZKMLFKTDc2TDA1NUxMtih6nJzcEMjIsLtRkZmSAQBCfjSElNT9X15CBAQC+WyAW"},h=Object(j.createClient)(p),O=Object(j.createMicrophoneAndCameraTracks)(),x=a(218),m=a(201),f=a(88),g=a(3);function v(e){var t=e.users,a=e.tracks,c=e.fullName,i=Object(n.useState)(12),r=Object(o.a)(i,2),s=r[0],l=r[1];Object(n.useEffect)((function(){l(Math.max(Math.floor(12/(t.length+1)))),console.log("gridSpacing",s)}),[t,a]);var d=(null===t||void 0===t?void 0:t.length)+1;return Object(g.jsxs)(m.a,{container:!0,style:{height:"100%"},spacing:1,children:[Object(g.jsx)(m.a,{item:!0,sm:1===d?12:2===d?6:3===d?4:4===d?6:d>4?3:null,xs:1===d?12:2===d||3===d||4===d||d>4?6:null,children:Object(g.jsx)(j.AgoraVideoPlayer,{videoTrack:a[1],style:{height:"100%",width:"100%",background:"#454545",borderRadius:"12px",maxHeight:"".concat(d," <= 2 ? 100%: 280px"),position:"relative"},children:Object(g.jsx)(x.a,{style:{position:"absolute",bottom:"1%",left:"2%",zIndex:1,background:"#fafafa",padding:"2px 4px",borderRadius:"4px"},children:Object(g.jsxs)(f.a,{variant:"body2",children:[" ",c," "]})})})}),t.length>0&&t.map((function(e){return e.videoTrack?Object(g.jsx)(m.a,{item:!0,sm:1===d?12:2===d?6:3===d?4:4===d?6:d>4?3:null,xs:1===d?12:2===d||3===d||4===d||d>4?6:null,style:{minHeight:"230px",borderRadius:"16px"},children:Object(g.jsx)(j.AgoraVideoPlayer,{videoTrack:e.videoTrack,style:{position:"relative",height:"100%",width:"100%",borderRadius:"12px",background:"#f2f4f6",maxHeight:"".concat(d," <= 2 ? 100%: 280px")},children:Object(g.jsx)(x.a,{style:{position:"absolute",bottom:"1%",left:"2%",zIndex:1,background:"#fafafa",padding:"2px 4px",borderRadius:"4px"},children:Object(g.jsxs)(f.a,{variant:"body2",children:[e.uid," "]})})},e.uid)}):null}))]})}var w=a(24),y=a(222),S=a(209),k=a(210),I=a(110),C=a.n(I),L=a(111),T=a.n(L),W=a(112),M=a.n(W),D=a(113),P=a.n(D),N=a(115),A=a.n(N),E=a(114),q=a.n(E),z=a(221),H=a(206),R=a(172),U=a(207);var _=function(e){var t=e.open,a=e.setOpen,n=(e.handleClose,e.users);return Object(g.jsx)("div",{children:Object(g.jsx)(z.a,{onClose:function(){a(!1)},open:t,style:{position:"absolute",bottom:"20px"},children:Object(g.jsx)(H.a,{children:n.map((function(e){return Object(g.jsx)(R.a,{children:Object(g.jsxs)(U.a,{children:[e.uid," "]})},e.uid)}))})})})};function B(e){var t=h(),a=e.tracks,c=e.setStart,i=e.setInCall,r=e.users,s=Object(n.useState)({video:!0,audio:!0}),d=Object(o.a)(s,2),j=d[0],b=d[1],p=Object(n.useState)(!1),O=Object(o.a)(p,2),f=O[0],v=O[1],I=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("audio"!==t){e.next=6;break}return e.next=3,a[0].setEnabled(!j.audio);case 3:b((function(e){return Object(w.a)(Object(w.a)({},e),{},{audio:!e.audio})})),e.next=10;break;case 6:if("video"!==t){e.next=10;break}return e.next=9,a[1].setEnabled(!j.video);case 9:b((function(e){return Object(w.a)(Object(w.a)({},e),{},{video:!e.video})}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.leave();case 2:t.removeAllListeners(),a[0].close(),a[1].close(),c(!1),i(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(x.a,{style:{background:"#f2f4f6",borderRadius:"8px"},p:2,justifyContent:"center",children:[Object(g.jsxs)(m.a,{container:!0,spacing:2,alignItems:"center",children:[Object(g.jsx)(x.a,{flexGrow:.5}),Object(g.jsx)(m.a,{item:!0,children:Object(g.jsx)(y.a,{title:j.audio?"Mute":"Unmute",children:Object(g.jsx)(S.a,{variant:"contained",color:j.audio?"primary":"secondary",onClick:function(){return I("audio")},children:j.audio?Object(g.jsx)(C.a,{}):Object(g.jsx)(T.a,{})})})}),Object(g.jsx)(m.a,{item:!0,children:Object(g.jsx)(y.a,{title:j.video?"Hide":"Show",children:Object(g.jsx)(S.a,{variant:"contained",color:j.video?"primary":"secondary",onClick:function(){return I("video")},children:j.video?Object(g.jsx)(M.a,{}):Object(g.jsx)(P.a,{})})})}),Object(g.jsx)(m.a,{item:!0,children:Object(g.jsx)(S.a,{variant:"outlined",color:"secondary",onClick:function(){L(),window.location.href="/group-video-calling-app/welcome"},children:Object(g.jsx)(q.a,{})})}),Object(g.jsx)(x.a,{pl:3}),Object(g.jsx)(m.a,{item:!0,children:Object(g.jsx)(S.a,{onClick:function(){return v(!0)},children:Object(g.jsx)(k.a,{badgeContent:(null===r||void 0===r?void 0:r.length)+1,children:Object(g.jsx)(A.a,{})})})}),Object(g.jsx)(x.a,{flexGrow:.3})]}),Object(g.jsx)(_,{onClose:function(){return v(!0)},open:f,setOpen:v,users:r})]})}var F=a(16),J=a(211),G=a(204),K=a(223),V=a(214),X=a(225),Z=a(219),Q=a(215),Y=a(216),$=a(52),ee=a(37),te={name:"",mobile:"",stateId:null,districtID:null,password:"",confirmPassword:""},ae={PaperProps:{style:{maxHeight:224,width:250}}};var ne=function(){var e=Object(n.useState)(te),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),r=Object(o.a)(i,2),s=(r[0],r[1],Object(n.useState)(!1)),l=Object(o.a)(s,2),d=(l[0],l[1]),u=Object(n.useState)(null),j=Object(o.a)(u,2),b=(j[0],j[1],Object(n.useState)([])),p=Object(o.a)(b,2),h=p[0],O=p[1],v=Object(n.useState)([]),y=Object(o.a)(v,2),S=y[0],k=y[1];Object(n.useEffect)((function(){$.a.get("https://iplfarmersamvad.com/CMSWSIPL/ws/stateList/json").then((function(e){var t;O(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.StateList)})).catch((function(e){return console.log(e)})),a.stateId&&$.a.get("https://iplfarmersamvad.com/CMSWSIPL/ws/districtList/json/".concat(a.stateId)).then((function(e){var t;k(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.districtList)})).catch((function(e){return console.log("Something Went wrong!!!",e)}))}),[a.stateId]);var I=function(e){var t=e.target,n=t.name,i=t.value;c(Object(w.a)(Object(w.a)({},a),{},Object(F.a)({},n,i)))};return console.log("value",a),Object(g.jsx)(J.a,{maxWidth:"xs",children:Object(g.jsx)(x.a,{pt:8,children:Object(g.jsxs)(x.a,{className:"",component:G.a,p:2,children:[Object(g.jsx)(x.a,{pb:2,children:Object(g.jsx)(f.a,{component:"h1",variant:"h5",children:"Sign Up"})}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),$.a.post("https://iplfarmersamvad.com/CMSWSIPL/ws/volunteer/json/volunteerSave",a).then((function(e){"mobile_exist"===e.data.msg?d(!0):d(!1)})).catch((function(e){console.error("There was an error!",e)}))},children:[Object(g.jsx)(K.a,{variant:"outlined",placeholder:"Full Name",margin:"dense",required:!0,fullWidth:!0,name:"name",label:"Full Name",id:"name",autoComplete:"current-password",value:a.name,onChange:I}),Object(g.jsx)(K.a,{variant:"outlined",margin:"dense",required:!0,fullWidth:!0,name:"mobile",placeholder:"888 999 2128",label:"Mobile",type:"number",id:"mobile",value:a.mobile,onChange:I}),Object(g.jsxs)(V.a,{variant:"outlined",margin:"dense",fullWidth:!0,children:[Object(g.jsx)(X.a,{id:"select__state",children:"State(Optional)"}),Object(g.jsx)(Z.a,{labelId:"stateList",id:"stateList_id",value:a.stateId,name:"stateId",onChange:I,label:"State(Optional)",MenuProps:ae,children:h.map((function(e){return Object(g.jsxs)(Q.a,{value:e.stateID,children:[e.stateName," "]},e.stateID)}))})]}),Object(g.jsxs)(V.a,{variant:"outlined",margin:"dense",fullWidth:!0,children:[Object(g.jsx)(X.a,{id:"select__state",children:"District(optional)"}),Object(g.jsx)(Z.a,{labelId:"District(optional)",id:"District(optional)",value:a.districtID,name:"districtID",onChange:I,label:"District(optional)",MenuProps:ae,children:S.map((function(e){return Object(g.jsx)(Q.a,{value:e.districtID,children:e.districtName},e.districtID)}))})]}),Object(g.jsx)(K.a,{variant:"outlined",margin:"dense",required:!0,fullWidth:!0,name:"password",label:"Password",placeholder:"*********",id:"password",value:a.password,type:"password",onChange:I}),Object(g.jsx)(K.a,{variant:"outlined",margin:"dense",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",placeholder:"*********",id:"confirmPassword",type:"password",value:a.confirmPassword,onChange:I}),Object(g.jsx)(Y.a,{fullWidth:!0,disabled:0===a.name.length||a.mobile.length<10||0===a.password.length||0===a.confirmPassword.length,style:{marginTop:"24px",textTransform:"capitalize"},variant:"contained",color:"primary",type:"submit",children:"SignUp"}),Object(g.jsx)(x.a,{pt:1,children:Object(g.jsxs)(f.a,{children:["Already have an account ?"," ",Object(g.jsx)("span",{children:Object(g.jsx)(ee.b,{to:"/group-video-calling-app/login",children:"Login"})})]})}),Object(g.jsx)(m.a,{container:!0,children:Object(g.jsx)(m.a,{item:!0,xs:!0})})]})]})})})};function ce(e){var t=e.fullName,a=e.setInCall,c=Object(n.useState)([]),i=Object(o.a)(c,2),r=i[0],s=i[1],j=Object(n.useState)(!1),f=Object(o.a)(j,2),w=f[0],y=f[1],S=h(),k=O(),I=k.ready,C=k.tracks;return Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.on("user-published",function(){var e=Object(u.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.subscribe(t,a);case 2:"video"===a&&s((function(e){return[].concat(Object(d.a)(e),[t])})),"audio"===a&&t.audioTrack.play();case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),S.on("user-unpublished",(function(e,t){"audio"===t&&e.audioTrack&&e.audioTrack.stop(),"video"===t&&s((function(t){return t.filter((function(t){return t.uid!==e.uid}))}))})),S.on("user-left",(function(e){s((function(t){return t.filter((function(t){return t.uid!==e.uid}))}))})),e.prev=3,e.next=6,S.join(p.appId,t,p.token,0);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("error");case 11:if(!C){e.next=14;break}return e.next=14,S.publish([C[0],C[1]]);case 14:y(!0);case 15:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t,a){return e.apply(this,arguments)}}();if(I&&C)try{e(b,t)}catch(a){console.log(a)}}),[b,S,I,C]),console.log("users",r),Object(g.jsx)(x.a,{style:{height:"100vh",background:"#0000"},children:Object(g.jsxs)(m.a,{container:!0,direction:"column",style:{height:"100vh",background:"#0000",padding:"16px"},children:[Object(g.jsx)(m.a,{item:!0,style:{height:"83vh",overflow:"hide"},children:w&&C&&Object(g.jsx)(v,{tracks:C,users:r,fullName:t})}),Object(g.jsx)(m.a,{item:!0,style:{height:"10%"},children:I&&C&&Object(g.jsx)(B,{tracks:C,setStart:y,setInCall:a,users:r})})]})})}var ie=a(7),re={mobile:"",password:""};var oe=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(re),i=Object(o.a)(c,2),r=i[0],s=i[1];Object(n.useEffect)((function(){localStorage.getItem("isLogin")&&ie.a}),[]);var l=function(e){var t=e.target,a=t.name,n=t.value;s(Object(w.a)(Object(w.a)({},r),{},Object(F.a)({},a,n)))};return console.log("value",r),Object(g.jsxs)(g.Fragment,{children:[localStorage.getItem("isLogin")&&Object(g.jsx)(ie.a,{to:"/group-video-calling-app",replace:!0}),Object(g.jsx)(J.a,{maxWidth:"xs",children:Object(g.jsx)(x.a,{pt:8,children:Object(g.jsxs)(x.a,{className:"",component:G.a,p:2,children:[Object(g.jsx)(x.a,{pb:2,children:Object(g.jsx)(f.a,{component:"h1",variant:"h5",children:"Login"})}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),$.a.get("https://iplfarmersamvad.com/CMSWSIPL/ws/userAuth/json/".concat(r.mobile,"/").concat(r.password)).then((function(e){localStorage.setItem("isLogin",!0),Object(ie.a)({to:"/group-video-calling-app"}),alert("Alert!!!"),a(!0),a(!0)})).catch((function(e){console.error("There was an error!",e)}))},children:[Object(g.jsx)(K.a,{variant:"outlined",margin:"dense",placeholder:"888 999 6612",required:!0,fullWidth:!0,name:"mobile",label:"Mobile",type:"number",id:"mobile",value:r.mobile,onChange:l}),Object(g.jsx)(K.a,{variant:"outlined",margin:"dense",required:!0,fullWidth:!0,placeholder:"*******",name:"password",label:"Password",id:"password",value:r.password,type:"password",onChange:l}),Object(g.jsx)(Y.a,{fullWidth:!0,disabled:r.mobile.length<10||0===r.password.length,style:{marginTop:"24px",textTransform:"capitalize"},variant:"contained",color:"primary",type:"submit",children:"Login"}),Object(g.jsx)(x.a,{pt:1,children:Object(g.jsxs)(f.a,{children:["Don't have an account ?"," ",Object(g.jsx)("span",{children:Object(g.jsx)(ee.b,{to:"/group-video-calling-app/signup",children:"Sign Up"})})]})})]})]})})})]})},se={mobile:"",password:""};var le=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(se),i=Object(o.a)(c,2),r=i[0];return i[1],Object(n.useEffect)((function(){localStorage.getItem("isLogin")&&ie.a}),[]),console.log("value",r),Object(g.jsx)(J.a,{maxWidth:"xs",children:Object(g.jsx)(x.a,{pt:8,children:Object(g.jsxs)(x.a,{className:"",component:G.a,p:2,children:[Object(g.jsx)(x.a,{pb:2,children:Object(g.jsx)(f.a,{component:"h1",variant:"h5",children:"Thank you for joining!!!"})}),Object(g.jsx)(Y.a,{component:ee.b,to:"/group-video-calling-app",fullWidth:!0,style:{marginTop:"24px",textTransform:"capitalize"},variant:"contained",color:"primary",onClick:function(){a(!0)},children:"Joining Again"})]})})})};var de=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(""),i=Object(o.a)(c,2),r=i[0],s=(i[1],Object(n.useState)(!1)),l=Object(o.a)(s,2),d=l[0],u=l[1];return Object(n.useEffect)((function(){localStorage.getItem("isLogin");u(!0)}),[]),Object(g.jsx)(ee.a,{children:Object(g.jsxs)(ie.d,{children:[Object(g.jsx)(ie.b,{path:"*",element:Object(g.jsx)(ie.a,{to:d?"/group-video-calling-app":"/group-video-calling-app/signup",replace:!0})}),Object(g.jsx)(ie.b,{path:"/group-video-calling-app",element:Object(g.jsx)(ce,{setInCall:a,fullName:r})}),Object(g.jsx)(ie.b,{path:"/group-video-calling-app/signup",element:Object(g.jsx)(ne,{})}),Object(g.jsx)(ie.b,{path:"group-video-calling-app/login",element:Object(g.jsx)(oe,{})}),Object(g.jsx)(ie.b,{path:"group-video-calling-app/welcome",element:Object(g.jsx)(le,{})}),Object(g.jsx)(ie.b,{path:"/group-video-calling-app",element:Object(g.jsx)(ce,{setInCall:a,fullName:r})})]})})};r.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(de,{})}),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.c18203d2.chunk.js.map