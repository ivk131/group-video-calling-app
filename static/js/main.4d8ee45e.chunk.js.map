{"version":3,"sources":["settings.js","Video.js","Controls.js","VideoCall.js","App.js","index.js"],"names":["channelName","config","mode","codec","appId","token","useClient","createClient","useMicrophoneAndCameraTracks","createMicrophoneAndCameraTracks","Video","props","users","tracks","fullName","useState","gridSpacing","setGridSpacing","useEffect","Math","max","floor","length","console","log","totalUsers","Grid","container","style","height","spacing","item","sm","xs","videoTrack","width","maxHeight","position","Box","bottom","left","zIndex","background","padding","borderRadius","Typography","variant","map","user","minHeight","uid","Controls","client","setStart","setInCall","video","audio","trackState","setTrackState","mute","type","a","setEnabled","ps","leaveChannel","leave","removeAllListeners","close","p","justifyContent","alignItems","flexGrow","Tooltip","title","IconButton","color","onClick","pl","Badge","badgeContent","VideoCall","setUsers","start","ready","init","name","userName","on","mediaType","subscribe","prevUsers","audioTrack","play","stop","filter","User","join","publish","error","direction","overflow","App","inCall","setFullName","Mobile","setMobile","email","setEmail","className","Container","component","maxWidth","pt","Paper","pb","TextField","margin","required","fullWidth","label","id","autoComplete","value","onChange","e","target","Button","disabled","marginTop","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4d8ee45e.chunk.js","sourcesContent":["import { createClient, createMicrophoneAndCameraTracks } from \"agora-rtc-react\";\n\n// const appId = \"587b85fcda284250a336e0a1710744f4\";\n// const token =\n//   \"007eJxTYOi9v+HBosePZa4JGm1TNjph5uDuLfLhzYafAgUbTu4SemmiwGBqYZ5kYZqWnJJoZGFiZGqQaGxslmqQaGhuaGBuYpJm0syWkNwQyMiQfnECEyMDBIL43Aw+mWWpIanFJQbm5gwMAIoVIfI=\";\n// export const channelName = \"LiveTest077\";\n\nconst appId = \"002d67ae068040be96b28ec17b115ea8\";\nconst token =\n  \"007eJxTYPBav+zTkohJkdqTLrLNlfuhbMX6YcHOns96EZrJC8UzKtgUGAwMjFLMzBNTDcwsDEwMklItzZKMLFKTDc2TDA1NUxMt7i1JSW4IZGT4comXhZEBAkF8NoaU1PxcXUMGBgBPPh8v\";\nexport const channelName = \"deom-1\";\n\nexport const config = { mode: \"rtc\", codec: \"vp8\", appId: appId, token: token };\nexport const useClient = createClient(config);\nexport const useMicrophoneAndCameraTracks = createMicrophoneAndCameraTracks();\n","import { AgoraVideoPlayer } from \"agora-rtc-react\";\nimport { Grid, Box, Card, Typography } from \"@material-ui/core\";\nimport { useState, useEffect } from \"react\";\n\nexport default function Video(props) {\n  const { users, tracks, fullName } = props;\n  const [gridSpacing, setGridSpacing] = useState(12);\n\n  useEffect(() => {\n    // setGridSpacing(Math.max(Math.floor(12 / (users.length + 1)), 4));\n    setGridSpacing(Math.max(Math.floor(12 / (users.length + 1))));\n    console.log(\"gridSpacing\", gridSpacing);\n  }, [users, tracks]);\n\n  console.log(\"USERS---------------------------\", users);\n  const totalUsers = users?.length + 1;\n  return (\n    <Grid container style={{ height: \"100%\" }} spacing={1}>\n      <Grid\n        item\n        sm={\n          totalUsers === 1\n            ? 12\n            : null || totalUsers === 2\n            ? 6\n            : null || totalUsers === 3\n            ? 4\n            : null || totalUsers === 4\n            ? 6\n            : null || totalUsers > 4\n            ? 3\n            : null\n        }\n        xs={\n          totalUsers === 1\n            ? 12\n            : null || totalUsers === 2\n            ? 6\n            : null || totalUsers === 3\n            ? 6\n            : null || totalUsers === 4\n            ? 6\n            : null || totalUsers > 4\n            ? 6\n            : null\n        }\n        // lg={gridSpacing}\n      >\n        <AgoraVideoPlayer\n          videoTrack={tracks[1]}\n          style={{\n            height: \"100%\",\n            width: \"100%\",\n            // maxWidth: \"250px\",\n            maxHeight: `${totalUsers} <= 2 ? 100%: 280px`,\n\n            position: \"relative\",\n          }}\n        >\n          <Box\n            style={{\n              position: \"absolute\",\n              bottom: \"1%\",\n              left: \"2%\",\n              zIndex: 1,\n              background: \"#fafafa\",\n              padding: \"2px 4px\",\n              borderRadius: \"4px\",\n            }}\n          >\n            <Typography variant=\"body2\"> {fullName} </Typography>\n          </Box>\n        </AgoraVideoPlayer>\n      </Grid>\n      {users.length > 0 &&\n        users.map(user => {\n          if (user.videoTrack) {\n            return (\n              <Grid\n                item\n                sm={\n                  totalUsers === 1\n                    ? 12\n                    : null || totalUsers === 2\n                    ? 6\n                    : null || totalUsers === 3\n                    ? 4\n                    : null || totalUsers === 4\n                    ? 6\n                    : null || totalUsers > 4\n                    ? 3\n                    : null\n                }\n                xs={\n                  totalUsers === 1\n                    ? 12\n                    : null || totalUsers === 2\n                    ? 6\n                    : null || totalUsers === 3\n                    ? 6\n                    : null || totalUsers === 4\n                    ? 6\n                    : null || totalUsers > 4\n                    ? 6\n                    : null\n                }\n                style={{ minHeight: \"230px\", borderRadius: \"16px\" }}\n              >\n                <AgoraVideoPlayer\n                  videoTrack={user.videoTrack}\n                  key={user.uid}\n                  style={{\n                    position: \"relative\",\n                    height: \"100%\",\n                    width: \"100%\",\n                    borderRadius: \"16px\",\n                    background: \"#f2f4f6\",\n                    // maxWidth: \"250px\",\n                    // maxHeight: \"280px\",\n                    maxHeight: `${totalUsers} <= 2 ? 100%: 280px`,\n                  }}\n                >\n                  <Box\n                    style={{\n                      position: \"absolute\",\n                      bottom: \"1%\",\n                      left: \"2%\",\n                      zIndex: 1,\n                      background: \"#fafafa\",\n                      padding: \"2px 4px\",\n                      borderRadius: \"4px\",\n                    }}\n                  >\n                    <Typography variant=\"body2\">{user.uid} </Typography>\n                  </Box>\n                </AgoraVideoPlayer>\n              </Grid>\n            );\n          } else return null;\n        })}\n    </Grid>\n  );\n}\n","import { useState } from \"react\";\nimport { useClient } from \"./settings\";\nimport {\n  Grid,\n  Button,\n  Box,\n  IconButton,\n  Tooltip,\n  Badge,\n} from \"@material-ui/core\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport GroupsIcon from \"@material-ui/icons/GroupSharp\";\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\n\nexport default function Controls(props) {\n  const client = useClient();\n  const { tracks, setStart, setInCall, users } = props;\n  const [trackState, setTrackState] = useState({ video: true, audio: true });\n\n  const mute = async type => {\n    if (type === \"audio\") {\n      await tracks[0].setEnabled(!trackState.audio);\n      setTrackState(ps => {\n        return { ...ps, audio: !ps.audio };\n      });\n    } else if (type === \"video\") {\n      await tracks[1].setEnabled(!trackState.video);\n      setTrackState(ps => {\n        return { ...ps, video: !ps.video };\n      });\n    }\n  };\n\n  const leaveChannel = async () => {\n    await client.leave();\n    client.removeAllListeners();\n    // client.remoteUsers();\n    tracks[0].close();\n    tracks[1].close();\n    setStart(false);\n    setInCall(false);\n  };\n\n  return (\n    <Box\n      style={{ background: \"#f2f4f6\", borderRadius: \"8px\" }}\n      p={2}\n      justifyContent=\"center\"\n    >\n      <Grid container spacing={2} alignItems=\"center\">\n        <Box flexGrow={0.5} />\n        <Grid item>\n          <Tooltip title={trackState.audio ? \"Mute\" : \"Unmute\"}>\n            <IconButton\n              variant=\"contained\"\n              color={trackState.audio ? \"primary\" : \"secondary\"}\n              onClick={() => mute(\"audio\")}\n            >\n              {trackState.audio ? <MicIcon /> : <MicOffIcon />}\n            </IconButton>\n          </Tooltip>\n        </Grid>\n        <Grid item>\n          <Tooltip title={trackState.video ? \"Hide\" : \"Show\"}>\n            <IconButton\n              variant=\"contained\"\n              color={trackState.video ? \"primary\" : \"secondary\"}\n              onClick={() => mute(\"video\")}\n            >\n              {trackState.video ? <VideocamIcon /> : <VideocamOffIcon />}\n            </IconButton>\n          </Tooltip>\n        </Grid>\n        <Grid item>\n          <IconButton\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={() => leaveChannel()}\n          >\n            <CallEndIcon />\n          </IconButton>\n        </Grid>\n        <Box pl={3} />\n        <Grid item>\n          <IconButton>\n            <Badge badgeContent={users?.length + 1}>\n              <GroupsIcon />\n            </Badge>\n          </IconButton>\n        </Grid>\n        <Box flexGrow={0.3} />\n      </Grid>\n    </Box>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport {\n  config,\n  useClient,\n  useMicrophoneAndCameraTracks,\n  channelName,\n} from \"./settings.js\";\nimport { Grid, Toolbar, Box } from \"@material-ui/core\";\nimport Video from \"./Video\";\nimport Controls from \"./Controls\";\n\nexport default function VideoCall(props) {\n  const { fullName } = props;\n  const { setInCall } = props;\n  const [users, setUsers] = useState([]);\n  const [start, setStart] = useState(false);\n  const client = useClient();\n  const { ready, tracks } = useMicrophoneAndCameraTracks();\n\n  useEffect(() => {\n    let init = async (name, userName) => {\n      client.on(\"user-published\", async (user, mediaType) => {\n        // user.userName = userName;\n        await client.subscribe(user, mediaType);\n        if (mediaType === \"video\") {\n          setUsers(prevUsers => {\n            return [...prevUsers, user];\n          });\n        }\n        if (mediaType === \"audio\") {\n          user.audioTrack.play();\n        }\n      });\n\n      client.on(\"user-unpublished\", (user, mediaType) => {\n        if (mediaType === \"audio\") {\n          if (user.audioTrack) user.audioTrack.stop();\n        }\n        if (mediaType === \"video\") {\n          setUsers(prevUsers => {\n            return prevUsers.filter(User => User.uid !== user.uid);\n          });\n        }\n      });\n\n      client.on(\"user-left\", user => {\n        setUsers(prevUsers => {\n          return prevUsers.filter(User => User.uid !== user.uid);\n        });\n      });\n\n      try {\n        await client.join(config.appId, name, config.token, 0);\n      } catch (error) {\n        console.log(\"error\");\n      }\n\n      if (tracks) await client.publish([tracks[0], tracks[1]]);\n      setStart(true);\n    };\n\n    if (ready && tracks) {\n      try {\n        init(channelName, fullName);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }, [channelName, client, ready, tracks]);\n\n  console.log(\"users\", users);\n  return (\n    <Box\n      style={{\n        // height: \"95%\",\n        height: \"100vh\",\n        background: \"#0000\",\n        // borderRadius: \"8px\",\n      }}\n    >\n      <Grid\n        container\n        direction=\"column\"\n        style={{\n          height: \"100vh\",\n          background: \"#0000\",\n          padding: \"16px\",\n          // borderRadius: \"8px\",\n        }}\n      >\n        <Grid item style={{ height: \"83vh\", overflow: \"hide\" }}>\n          {start && tracks && (\n            <Video tracks={tracks} users={users} fullName={fullName} />\n          )}\n        </Grid>\n        {/* <Toolbar /> */}\n\n        <Grid item style={{ height: \"10%\" }}>\n          {ready && tracks && (\n            <Controls\n              tracks={tracks}\n              setStart={setStart}\n              setInCall={setInCall}\n              users={users}\n            />\n          )}\n        </Grid>\n      </Grid>\n    </Box>\n  );\n}\n","import { useState } from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport VideoCall from \"./VideoCall\";\nimport {\n  Container,\n  CssBaseline,\n  Avatar,\n  TextField,\n  Paper,\n  Toolbar,\n  Grid,\n  Box,\n  Typography,\n} from \"@material-ui/core\";\nfunction App() {\n  const [inCall, setInCall] = useState(false);\n  const [fullName, setFullName] = useState(\"\");\n  const [Mobile, setMobile] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n  console.log(fullName, Mobile, email);\n\n  const handleJoinVideoCall = () => {\n    setInCall(true);\n    // setTimeout(() => {\n    //   setFullName(\"\");\n    // }, 5000);\n  };\n\n  return (\n    <Box className=\"App\" style={{ height: \"100vh\", background: \"#000\" }}>\n      {inCall ? (\n        <VideoCall setInCall={setInCall} fullName={fullName} />\n      ) : (\n        <Container component=\"main\" maxWidth=\"xs\">\n          {/* <CssBaseline /> */}\n          <Box pt={8}>\n            <Box className=\"\" component={Paper} p={2}>\n              <Box pb={2}>\n                <Typography component=\"h1\" variant=\"h5\">\n                  Virtual Call\n                </Typography>\n              </Box>\n\n              <form>\n                <TextField\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  required\n                  fullWidth\n                  name=\"fullName\"\n                  label=\"Full Name\"\n                  id=\"fullName\"\n                  autoComplete=\"current-password\"\n                  value={fullName}\n                  onChange={e => setFullName(e.target.value)}\n                />\n                <TextField\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  required\n                  fullWidth\n                  name=\"Mobile\"\n                  label=\"Mobile\"\n                  type=\"number\"\n                  id=\"Mobile\"\n                  value={Mobile}\n                  onChange={e => setMobile(e.target.value)}\n                />\n                <TextField\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  name=\"email\"\n                  label=\"Email(Optional)\"\n                  type=\"email\"\n                  id=\"email\"\n                  value={email}\n                  onChange={e => setEmail(e.target.value)}\n                />\n\n                <Grid container>\n                  <Grid item xs>\n                    <Button\n                      disabled={fullName.length === 0 || Mobile.length === 0}\n                      style={{ marginTop: \"24px\" }}\n                      variant=\"contained\"\n                      color=\"primary\"\n                      onClick={handleJoinVideoCall}\n                    >\n                      Join Call\n                    </Button>\n                  </Grid>\n                </Grid>\n              </form>\n            </Box>\n          </Box>\n        </Container>\n      )}\n    </Box>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}